<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>EskiÅŸehir UTMBÂ® Strateji PortalÄ±</title>
  <style>
    :root {
      --bg-dark: #090a0c;
      --sidebar-bg: #121418;
      --accent: #e94e1b;
      --accent-glow: rgba(233, 78, 27, 0.4);
      --text-main: #ffffff;
      --text-muted: #8b949e;
      --border: #2a2f38;
      --glass: rgba(255, 255, 255, 0.03);
      --card-bg: #161b22;
      --safe-area-top: env(safe-area-inset-top);
      --safe-area-bottom: env(safe-area-inset-bottom);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

    body {
      margin: 0;
      padding: 0;
      background-color: var(--bg-dark);
      background-image: radial-gradient(circle at 50% 0%, rgba(233,78,27,0.08) 0%, transparent 60%);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
      color: var(--text-main);
      height: 100vh;
      height: 100dvh; /* Mobil tarayÄ±cÄ± barÄ± sorunu iÃ§in */
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    /* --- HEADER --- */
    header {
      height: 60px;
      background: rgba(18, 20, 24, 0.95);
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      padding: 0 24px;
      padding-top: var(--safe-area-top); /* iPhone Ã‡entik PayÄ± */
      justify-content: space-between;
      flex-shrink: 0;
      z-index: 30;
      position: relative; 
    }

    .brand {
      font-weight: 800;
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 12px;
      letter-spacing: -0.5px;
      color: white;
    }
    .brand-icon {
        width: 24px;
        height: 24px;
        background: var(--accent);
        border-radius: 4px;
        display: grid;
        place-items: center;
        font-size: 12px;
        color: white;
        box-shadow: 0 0 15px var(--accent-glow);
    }
    .brand span { color: var(--accent); }

    /* ORTA Ä°SÄ°M ALANI */
    .header-center-title {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        font-weight: 900;
        font-size: 14px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: white;
        border: 1px solid var(--accent);
        padding: 4px 15px;
        border-radius: 50px;
        background: rgba(0,0,0,0.4);
        white-space: nowrap;
    }
    .header-center-title span { color: var(--accent); }

    /* --- LAYOUT --- */
    .layout {
      display: flex;
      flex: 1;
      height: calc(100vh - 60px);
      overflow: hidden;
      position: relative;
    }

    /* --- SIDEBAR (PC) & TOP BAR (MOBILE) --- */
    aside {
      width: 280px;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      flex-shrink: 0;
      z-index: 20;
      justify-content: space-between;
      transition: all 0.3s ease;
    }

    .scrollable-list {
      flex: 1;
      overflow-y: auto;
      padding: 20px 10px;
    }
    /* Scrollbar Gizleme */
    .scrollable-list::-webkit-scrollbar { width: 0px; background: transparent; }

    .menu-title {
      padding: 0 10px 10px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      color: var(--text-muted);
      font-weight: 700;
    }

    .menu-list { list-style: none; padding: 0; margin: 0; }

    .menu-item {
      padding: 12px;
      margin-bottom: 4px;
      cursor: pointer;
      color: #9ca3af;
      font-size: 13px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 10px;
      border-radius: 8px;
      transition: all 0.2s;
      border: 1px solid transparent;
    }
    .menu-item:hover { background: rgba(255,255,255,0.05); color: white; }
    .menu-item.active {
      background: rgba(233, 78, 27, 0.15);
      color: white;
      border-color: rgba(233, 78, 27, 0.3);
    }
    .menu-num { font-family: monospace; font-size: 11px; opacity: 0.5; min-width: 20px; }

    .sidebar-footer {
        padding: 20px;
        border-top: 1px solid var(--border);
        background: rgba(0,0,0,0.2);
    }

    .nav-btn-main {
        width: 100%;
        background: linear-gradient(45deg, #cc4416, #e94e1b);
        border: none;
        color: white;
        padding: 14px;
        border-radius: 12px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-weight: 800;
        font-size: 13px;
        letter-spacing: 0.5px;
        transition: 0.2s;
        box-shadow: 0 4px 15px rgba(233, 78, 27, 0.3);
    }
    .nav-btn-main:active { transform: scale(0.96); }

    /* --- MAIN CONTENT --- */
    main {
      flex: 1;
      background: var(--bg-dark);
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .view-section {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        padding: 30px;
        padding-bottom: calc(30px + var(--safe-area-bottom));
        overflow-y: auto;
        opacity: 0;
        pointer-events: none;
        transform: translateY(20px);
        transition: opacity 0.3s ease, transform 0.3s ease;
        display: flex;
        flex-direction: column;
    }
    
    .view-section.active-view {
        opacity: 1;
        pointer-events: all;
        z-index: 5;
        transform: translateY(0);
    }

    /* BaÅŸlÄ±k */
    .dash-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        padding-bottom: 15px;
    }
    .dash-title h1 { margin: 0; font-size: 24px; font-weight: 300; }
    .dash-title span { font-weight: 800; color: var(--accent); }
    
    .stats-badge {
        background: rgba(255,255,255,0.1);
        padding: 4px 12px;
        border-radius: 50px;
        font-size: 11px;
        color: #ccc;
    }

    /* UTMB EVENTS GRID */
    .events-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 15px;
        padding-bottom: 50px;
    }

    .event-card {
        background: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 15px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        height: 140px;
        position: relative;
        overflow: hidden;
    }
    .event-card:active { background: rgba(255,255,255,0.05); }

    .event-header { display: flex; justify-content: space-between; align-items: flex-start; }
    .event-flag { font-size: 22px; }
    .event-series-tag { font-size: 9px; text-transform: uppercase; background: var(--accent); color: white; padding: 3px 6px; border-radius: 4px; font-weight: 700; }
    .event-title { color: white; font-size: 15px; font-weight: 700; margin-top: 10px; line-height: 1.3; }
    .event-location { color: var(--text-muted); font-size: 12px; margin-top: 2px; }
    .event-date { margin-top: auto; font-size: 11px; color: var(--accent); font-weight: 600; display: flex; align-items: center; gap: 5px; }

    /* SLAYT GÃ–RÃœNTÃœLEYÄ°CÄ° */
    .slide-viewer-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        width: 100%;
        /* Swipe iÃ§in alanÄ±n tamamÄ±nÄ± kaplamalÄ± */
        position: relative;
    }

    .viewer-frame {
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    img#currentSlide {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      opacity: 0;
      transition: opacity 0.3s ease;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5);
    }
    img#currentSlide.visible { opacity: 1; }

    /* Navigasyon ButonlarÄ± (Mobilde gizlenebilir Ã§Ã¼nkÃ¼ swipe var) */
    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.1);
      color: white;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      z-index: 10;
    }
    .nav-btn.prev { left: 10px; }
    .nav-btn.next { right: 10px; }

    /* --- MOBILE OPTIMIZATION --- */
    @media (max-width: 768px) {
      .layout { flex-direction: column; }
      
      /* Header Kompakt */
      header { padding: 0 15px; height: 50px; }
      .brand { font-size: 14px; }
      .header-center-title { display: none; } /* Mobilde yer kaplamasÄ±n */
      
      /* Sidebar -> Ãœst Kayar MenÃ¼ */
      aside {
        width: 100%;
        height: auto;
        border-right: none;
        border-bottom: 1px solid var(--border);
        flex-direction: column; /* Ã–nce buton, sonra liste */
        padding: 5px;
        background: #111;
      }

      /* Ana Buton (Takvim) Ãœstte */
      .sidebar-footer {
          padding: 5px 10px;
          border-top: none;
          background: transparent;
          display: flex;
          justify-content: space-between;
          align-items: center;
          width: 100%;
      }
      .nav-btn-main { padding: 8px; font-size: 12px; width: auto; flex: 1; }
      .copyright-text { display: none; } /* Mobilde gizle */

      /* Liste -> Yatay Scroll (Story Modu) */
      .scrollable-list {
        display: flex;
        flex-direction: row;
        overflow-x: auto;
        padding: 5px 10px;
        gap: 8px;
        width: 100%;
        scroll-snap-type: x mandatory;
      }
      
      .menu-title { display: none; }
      
      .menu-item {
        min-width: 120px; /* Kart gibi */
        margin: 0;
        flex-direction: column;
        justify-content: center;
        text-align: center;
        font-size: 11px;
        padding: 8px;
        background: rgba(255,255,255,0.05);
        scroll-snap-align: start;
        height: 60px; /* Sabit yÃ¼kseklik */
        border: 1px solid var(--border);
      }
      .menu-item .menu-num { display: none; }
      
      /* Ä°Ã§erik AlanÄ± */
      .view-section { padding: 15px; padding-bottom: 80px; }
      .dash-title h1 { font-size: 18px; }
      .events-grid { grid-template-columns: 1fr; gap: 10px; }
      
      /* Slayt Modu */
      .nav-btn { display: none; } /* Mobilde buton yerine Swipe kullanacaÄŸÄ±z */
      .slide-viewer-container { justify-content: flex-start; padding-top: 20px; }
    }
  </style>
</head>
<body>

  <header>
    <div class="brand">
      <div class="brand-icon">âœ</div>
      UTMBÂ® <span>EskiÅŸehir</span>
    </div>

    <div class="header-center-title">
        ALÄ° <span>GÃœÃ‡LÃœ</span>
    </div>

    <div style="font-size:10px; color:#666;">v5.0 Mobile</div>
  </header>

  <div class="layout">
    <aside>
      <div class="sidebar-footer" style="order: 1;">
          <button class="nav-btn-main active" id="btnHome" onclick="showDashboard()">
              <span>ğŸŒ</span> KÃœRESEL TAKVÄ°M
          </button>
      </div>

      <div class="scrollable-list" style="order: 2;">
        <div class="menu-title">SUNUM DOSYALARI</div>
        <ul class="menu-list" id="menuList" style="display:contents;">
          </ul>
      </div>
    </aside>

    <main id="mainArea">
        
      <div id="dashboardView" class="view-section active-view">
          <div class="dash-header">
              <div class="dash-title">
                  <h1>UTMBÂ® <span>World Series</span></h1>
              </div>
              <div class="stats-badge">43+ ETKÄ°NLÄ°K</div>
          </div>
          <div class="events-grid" id="events-container"></div>
      </div>

      <div id="slideView" class="view-section">
          <div class="slide-viewer-container">
            <div class="viewer-frame">
                <button class="nav-btn prev" id="btnPrev">â®</button>
                <img id="currentSlide" src="" alt="Sunum">
                <button class="nav-btn next" id="btnNext">â¯</button>
            </div>
            <div style="margin-top:20px; color:#555; font-size:12px; text-align:center;">
                <span id="slideCounter"></span><br>
                <span id="slideName" style="color:#aaa;"></span>
                <div style="margin-top:5px; font-size:10px; opacity:0.5;">(KaydÄ±rmak iÃ§in sÃ¼rÃ¼kleyin)</div>
            </div>
          </div>
      </div>

    </main>
  </div>

  <script>
    // --- VERÄ°LER ---
    const slidesData = [
      { file: "assets/slide_01.webp", title: "Kapak: Vizyon" },
      { file: "assets/slide_02.webp", title: "UTMBÂ® Nedir?" }, 
      { file: "assets/slide_03.webp", title: "Ekonomik Etki" },
      { file: "assets/slide_04.webp", title: "Operasyon" },
      { file: "assets/slide_05.webp", title: "Yetenek" },
      { file: "assets/slide_06.webp", title: "GÃ¶nÃ¼llÃ¼ Ordusu" },
      { file: "assets/slide_07.webp", title: "ESOGÃœ Roller" },
      { file: "assets/slide_08.webp", title: "ESTÃœ Spor Tek." },
      { file: "assets/slide_09.webp", title: "Hizmet" },
      { file: "assets/slide_10.webp", title: "Kazan-Kazan" },
      { file: "assets/slide_11.webp", title: "TeÅŸvik Modeli" },
      { file: "assets/slide_12.webp", title: "Yol HaritasÄ±" },
      { file: "assets/slide_13.webp", title: "Sonraki AdÄ±mlar" },
      { file: "assets/slide_14.webp", title: "KapanÄ±ÅŸ" }
    ];

    const utmbEvents = [
        { name: "Dacia UTMBÂ® Mont-Blanc", location: "Chamonix, Fransa ğŸ‡«ğŸ‡·", date: "AÄŸustos", tag: "FINALS" },
        { name: "Western Statesâ„¢ 100", location: "California, ABD ğŸ‡ºğŸ‡¸", date: "Haziran", tag: "MAJOR" },
        { name: "La SportivaÂ® Lavaredo", location: "Cortina, Ä°talya ğŸ‡®ğŸ‡¹", date: "Haziran", tag: "SERIES" },
        { name: "Transvulcania by UTMBÂ®", location: "La Palma, Ä°spanya ğŸ‡ªğŸ‡¸", date: "MayÄ±s", tag: "SERIES" },
        { name: "Tarawera Ultra-Trail", location: "Yeni Zelanda ğŸ‡³ğŸ‡¿", date: "Åubat", tag: "SERIES" },
        { name: "Doi Inthanon Thailand", location: "Tayland ğŸ‡¹ğŸ‡­", date: "AralÄ±k", tag: "MAJOR" },
        { name: "Val d'Aran by UTMBÂ®", location: "Ä°spanya ğŸ‡ªğŸ‡¸", date: "Temmuz", tag: "MAJOR" },
        { name: "Nice CÃ´te d'Azur", location: "Fransa ğŸ‡«ğŸ‡·", date: "EylÃ¼l", tag: "SERIES" },
        { name: "Cappadocia Ultra-TrailÂ®", location: "TÃ¼rkiye ğŸ‡¹ğŸ‡·", date: "Ekim", tag: "EVENT" },
        { name: "Kodiak Ultra Marathonsâ„¢", location: "ABD ğŸ‡ºğŸ‡¸", date: "Ekim", tag: "SERIES" }
    ];

    let currentIndex = 0;
    const imgEl = document.getElementById('currentSlide');
    const dashView = document.getElementById('dashboardView');
    const slideView = document.getElementById('slideView');
    const btnHome = document.getElementById('btnHome');

    // --- NAVÄ°GASYON ---
    function showDashboard() {
        slideView.classList.remove('active-view');
        dashView.classList.add('active-view');
        document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active'));
        btnHome.classList.add('active');
    }

    function showSlideViewer(index) {
        if (index < 0) index = 0;
        if (index >= slidesData.length) index = slidesData.length - 1;
        currentIndex = index;

        dashView.classList.remove('active-view');
        slideView.classList.add('active-view');
        btnHome.classList.remove('active');

        imgEl.classList.remove('visible');
        setTimeout(() => {
            imgEl.src = slidesData[currentIndex].file;
            imgEl.onload = () => {
                imgEl.classList.add('visible');
                updateMenuUI();
            };
        }, 150);
    }

    function updateMenuUI() {
        document.querySelectorAll('.menu-item').forEach((item, i) => {
            const isActive = i === currentIndex;
            item.classList.toggle('active', isActive);
            if(isActive) {
                // Mobilde aktif olanÄ± ekrana getir
                item.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
            }
        });
        document.getElementById('slideCounter').innerText = `Sayfa ${currentIndex + 1}/${slidesData.length}`;
        document.getElementById('slideName').innerText = slidesData[currentIndex].title;
    }

    function initMenu() {
        const list = document.getElementById('menuList');
        list.innerHTML = "";
        slidesData.forEach((slide, index) => {
            const li = document.createElement('li');
            li.className = 'menu-item';
            // Mobilde kÄ±sa baÅŸlÄ±klar daha iyi
            li.innerHTML = `<span>${slide.title}</span>`;
            li.onclick = () => showSlideViewer(index);
            list.appendChild(li);
        });
    }

    document.getElementById('btnNext').onclick = () => showSlideViewer(currentIndex + 1);
    document.getElementById('btnPrev').onclick = () => showSlideViewer(currentIndex - 1);

    // --- SWIPE (KAYDIRMA) DESTEÄÄ° ---
    let touchStartX = 0;
    let touchEndX = 0;
    
    // Sadece slideView alanÄ±nda swipe Ã§alÄ±ÅŸsÄ±n
    const swipeArea = document.getElementById('slideView');

    swipeArea.addEventListener('touchstart', e => {
        touchStartX = e.changedTouches[0].screenX;
    }, {passive: true});

    swipeArea.addEventListener('touchend', e => {
        touchEndX = e.changedTouches[0].screenX;
        handleSwipe();
    }, {passive: true});

    function handleSwipe() {
        const sensitivity = 50; // Hassasiyet
        if (touchEndX < touchStartX - sensitivity) {
            // Sola KaydÄ±r -> Ä°leri Git
            showSlideViewer(currentIndex + 1);
        }
        if (touchEndX > touchStartX + sensitivity) {
            // SaÄŸa KaydÄ±r -> Geri Git
            showSlideViewer(currentIndex - 1);
        }
    }

    // --- ETKÄ°NLÄ°KLERÄ° YÃœKLE ---
    function renderEvents() {
        const container = document.getElementById('events-container');
        container.innerHTML = ''; 

        utmbEvents.forEach(event => {
            const card = document.createElement('div');
            card.className = 'event-card';
            const flag = event.location.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/) || "ğŸš©";

            card.innerHTML = `
                <div class="event-header">
                    <div class="event-flag">${flag}</div>
                    <div class="event-series-tag" style="background:${getTagColor(event.tag)}">${event.tag}</div>
                </div>
                <div>
                    <div class="event-title">${event.name}</div>
                    <div class="event-location">${event.location.replace(flag, '').trim()}</div>
                </div>
                <div class="event-date">ğŸ“… ${event.date}</div>
            `;
            container.appendChild(card);
        });
    }

    function getTagColor(tag) {
        if(tag === 'FINALS') return '#e94e1b';
        if(tag === 'MAJOR') return '#d93a10';
        if(tag === 'EVENT') return '#cc0000';
        return '#444';
    }

    // Klavye
    document.addEventListener('keydown', (e) => {
        if(slideView.classList.contains('active-view')) {
            if(e.key === 'ArrowRight') showSlideViewer(currentIndex + 1);
            if(e.key === 'ArrowLeft') showSlideViewer(currentIndex - 1);
        }
    });

    initMenu();
    renderEvents();

  </script>
</body>
</html>